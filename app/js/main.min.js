const html=document.documentElement,body=document.body,menuBtn=document.querySelector(".menu-btn"),header=document.querySelector(".header"),headerMobile=document.querySelector(".header__mobile"),anchors=document.querySelectorAll(".header__link, .header__link.mobile"),allFocusableElements=document.querySelectorAll("a, button, input, textarea, select, [tabindex]");function closeMenu(){html.classList.remove("active"),body.classList.remove("active"),menuBtn.classList.remove("active"),headerMobile.classList.remove("active"),anchors.forEach((e=>e.setAttribute("tabindex","-1"))),allFocusableElements.forEach((e=>{e.removeAttribute("tabindex")}))}function scrollToTarget(e){const t=document.querySelector(e);t&&(closeMenu(),setTimeout((()=>{const e=t.offsetTop-25;window.scrollTo({top:e,behavior:"smooth"})}),700))}function handleAnchorClick(e){if(this.classList.contains("mobile")){e.preventDefault();const t=this.getAttribute("href").split("#");if(2===t.length){scrollToTarget("#"+t[1])}}}menuBtn.addEventListener("click",(()=>{menuBtn.blur();const e=html.classList.toggle("active");body.classList.toggle("active",e),menuBtn.classList.toggle("active"),headerMobile.classList.toggle("active"),requestAnimationFrame((()=>{e?(anchors.forEach((e=>e.removeAttribute("tabindex"))),allFocusableElements.forEach((e=>{headerMobile.contains(e)||e===menuBtn||e.setAttribute("tabindex","-1")}))):(anchors.forEach((e=>e.setAttribute("tabindex","-1"))),allFocusableElements.forEach((e=>{e.removeAttribute("tabindex")})))}))})),document.addEventListener("click",(e=>{!(header.contains(e.target)||headerMobile.contains(e.target))&&html.classList.contains("active")&&closeMenu()}));for(const e of anchors)e.addEventListener("click",handleAnchorClick),e.addEventListener("touchstart",handleAnchorClick,{passive:!0});